{% extends 'base.html' %}
{% load thumbnail %}
{% block content %}
    <div class="container py-5">
        <div class="mb-5">
            <h1>Все посты пользователя {{ author }} </h1>
            <h3>Всего постов: {{ posts_count }} </h3>
            {% if following %}
                <a
                        class="btn btn-lg btn-light"
                        href="{% url 'posts:profile_unfollow' author.username %}" role="button"
                >
                    Отписаться
                </a>
            {% else %}
                <a
                        class="btn btn-lg btn-primary"
                        href="{% url 'posts:profile_follow' author.username %}" role="button"
                >
                    Подписаться
                </a>
            {% endif %}
        </div>
        {% for post in page_obj %}
            <ul>
                <li>
                    Автор: {{ post.author.get_full_name }}
                </li>
                <li>
                    Группа: {{ post.group }}
                </li>
                <li>
                    Дата публикации: {{ post.pub_date|date:"d E Y" }}
                </li>
            </ul>
            <article>
                {% thumbnail post.image "960x339" crop="center" upscale=True as im %}
                    <img class="card-img my-2" src="{{ im.url }}">
                {% endthumbnail %}
            </article>
            <p style="text-align: justify">{{ post.text }}</p>
            <table>
                <tr>
                    <td>
                        <a href="{% url 'posts:post_detail' post.id %}">подробная информация </a>
                    </td>
                </tr>
                <tr>
                    {% if post.group %}
                        <td>
                            <a href="{% url 'posts:group_list' post.group.slug %}">все записи группы</a>
                        </td>
                    {% endif %}
                </tr>
            </table>
            {% if not forloop.last %}
                <hr>
            {% endif %}
        {% endfor %}
        {% include 'includes/paginator.html' %}

    </div>
{% endblock %}


